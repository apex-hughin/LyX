Public release of LyX version 1.5.4
====================================

We are pleased to announce the release of LyX 1.5.4. This is a maintenance
release. Besides the usual stability improvements and fixes, this release
comes with major improvements in the handling of Chinese, Korean and
Japanese (CJK) languages and scripts, and introduces some minor new
features (such as a character count option).

While this release continues the stable 1.5.x series, work on the next
major release, 1.6.0, is proceeding. A first alpha version of LyX 1.6.0
will be released later this week for those who like the bleeding edge
experience. Notwithstanding this, expect one or two more 1.5.x versions
to be released, of which the last one will be able to read the 1.6 format.

All users, especially CJK users, are encouraged to upgrade to this 
version.

Caveat: We were forced to switch from the LaTeX package 'floatflt' to
'wrapfig' for wrap figure floats due to a license problem that limited
the availability of the former package. In general, this should improve
your documents containing wrap figures, however, it is possible that the
look and positioning of the floats changes due to the package change. If
you have documents with wrap floats, please make a backup before upgrading
and check the output.

A detailed list of changes is appended below, remaining known problems
are listed in the file RELEASE-NOTES.

In case you are wondering what LyX is, here is what
http://www.lyx.org/ has to say on the subject:

   LyX is a document processor that encourages an approach to writing
   based on the structure of your documents, not their appearance. It
   is released under a Free Software / Open Source license.

   LyX is for people that write and want their writing to look great,
   right out of the box. No more endless tinkering with formatting
   details, 'finger painting' font attributes or futzing around with
   page boundaries. You just write. In the background, Prof. Knuth's
   legendary TeX typesetting engine makes you look good.

   On screen, LyX looks like any word processor; its printed output --
   or richly cross-referenced PDF, just as readily produced -- looks
   like nothing else. Gone are the days of industrially bland .docs,
   all looking similarly not-quite-right, yet coming out unpredictably
   different on different printer drivers. Gone are the crashes
   'eating' your dissertation the evening before going to press.

   LyX is stable and fully featured. It is a multi-platform, fully
   internationalized application running natively on Unix/Linux, the
   Macintosh and modern Windows platforms.

You can download LyX 1.5.4 here (the .bz2 are compressed with bzip2,
which yields smaller files):

	ftp://ftp.lyx.org/pub/lyx/stable/lyx-1.5.4.tar.gz
	ftp://ftp.lyx.org/pub/lyx/stable/lyx-1.5.4.tar.bz2
	ftp://ftp.devel.lyx.org/pub/lyx/lyx-1.5.4.tar.gz
	ftp://ftp.devel.lyx.org/pub/lyx/lyx-1.5.4.tar.bz2

and it should propagate shortly to the following mirrors (which will
also host the .bz2 versions):

        ftp://ftp.lip6.fr/pub/lyx/stable/lyx-1.5.4.tar.gz
	http://lyx.cybermirror.org/stable/lyx-1.5.4.tar.gz
        ftp://gd.tuwien.ac.at/publishing/tex/lyx/stable/lyx-1.5.4.tar.gz
        ftp://ftp.ntua.gr/pub/X11/LyX/stable/lyx-1.5.4.tar.gz
	http://sunsite.icm.edu.pl/pub/unix/editors/lyx/stable/lyx-1.5.4.tar.gz
        http://lyx.mirror.fr/stable/lyx-1.5.4.tar.gz

Prebuilt binaries (rpms for Linux distributions, Mac OS X and Windows
installers) should soon be available at
	ftp://ftp.lyx.org/pub/lyx/bin/1.5.4/

If you already have the LyX 1.5.2 sources, you may want to apply one
of the following patches instead
	ftp://ftp.lyx.org/pub/lyx/stable/patch-1.5.4.gz
	ftp://ftp.lyx.org/pub/lyx/stable/patch-1.5.4.bz2

Note that this patch will not produce valid LyX/Mac sources, since
some binary files have been added for this release.

If you find what you think is a bug in LyX 1.5.4, you may either
e-mail the LyX developers' mailing list (lyx-devel <at> lists.lyx.org),
or open a bug report at http://bugzilla.lyx.org

If you're having trouble using the new version of LyX, or have a
question, first check out http://www.lyx.org/help/. If you can't find
the answer there, e-mail the LyX users' list (lyx-users <at> lists.lyx.org).

Enjoy!

The LyX team.


What's new in version 1.5.4?
----------------------------

** Updates:
***********

* DOCUMENTATION AND LOCALIZATION

- New manual "LyX's detailed math manual" available in English, French,
  and German. It includes the content of the example file "mathed.lyx",
  which is no more shipped separately.

- New section "Floats Side by Side" in the EmbeddedObjects manual.

- New Spanish translation of the FAQ manual and the mathed example file.

- New Japanese splash LyX file.

- Updated French and Spanish Introduction manual.

- Updated German, French, and Spanish Tutorial manual.

- Updated German User's Guide manual.

- New Russian translation of the user interface.

- Updated Czech, French, German, Hebrew, Hungarian, Italian, Portuguese
  and Spanish translations of the user interface.

- New example files that demonstrate how to create serial letters with
  the KOMA letter class.


* USER INTERFACE

- LyX gives more instructive information if a character cannot be encoded
  properly. Most notably, the offending character is highlighted both in
  the work area and in the "View Source" pane (bug 3511).

- Initial support for shift + right-mouse-click selection (bug 2304).

- The on-screen appearance of spaces has been improved.

- New shortcut "C-M-n" to create numbered formulas.

- Character counting added to "Count Words" function (bug 2819).

- The BibTeX dialog now has buttons to move databases up or down
  the list.

- New toolbar button to create boxes.

- Keyboard shortcuts for TOC window buttons were introduced. For outlining
  you can use "M-p Left/Right/Up/Down" keys. Note that depth-in/decrement 
  LFUNs are still reachable via "M-S-Left/Right" shortcuts (bug 4456).

- Improve cursor movement around lines with ending line-breaks.


* DOCUMENT INPUT/OUTPUT

- Use package wrapfig instead of floatflt for wrap figure floats. Note
  that this might slightly change the output (cf. the file RELEASE-NOTES).

- Support to paste text containing ligatures to LyX.


* BUILD/INSTALLATION:

- The Windows version is compiled with MSVC 2008.
  It is no longer necessary to install the Windows SDK and other patches,
  these things are now also included in the Express edition.

- Viewers wrapper xdg-open was removed due to the problems on environments
  without desktop managers. Waiting for upstream fixes.


** Bug fixes:
*************

* DOCUMENT INPUT/OUTPUT

- Fix LaTeX output of documents with both CJK and non-CJK languages.
  LyX is basically ready for multilingual CJK now (bug 4337).

- Fix internal conversion from ucs4 to cp-1255 (LyX didn't recognize
  the Hebrew character tav [0x5EA] as a valid character in cp-1255)
  (bug 4439).

- Fix import of LaTeX files that use the inputenc option "utf8x" (part
  of bug 4503).

- Rotated floats are now correctly converted to ERT when exporting to LyX
  format < 1.4.0.

- Fix the LaTeX output of boxes (bug 2492).

- Assure that the package "pdfcolmk" is loaded after the package color.

- Consider graphic drivers when loading the package "xcolor".

- Fix LaTeX code for line spacing when using the memoir class.

- Perform additional latex run if package clefval is used.

- The "dvi viewer paper options" switch now supports all known
  paper sizes (bug 4432).

- "letter" is no more hardcoded as default dvips paper size
  (bug 2098).


* USER INTERFACE:

- Fix crashes after LyX tried to access files on non-existing or unmounted
  drives (bugs 4052, 4440, 4534).

- Fix a crash when changing the document encoding while View->Source
  is open (bug 3561).

- Fix an assertion when inserting a non-CJK character in a CJK paragraph
  (bug 4349).

- Fix a crash when opening a document with relative path (bug 4517).

- Fix a crash after converting a formula to eqnarray while a selection
  was active (bug 4452).

- Fix an assertion when inserting a box in a list while at least one
  paragraph of that list was selected (bug 4502).

- Fix a crash when opening a file that resides in a hidden directory
  (bug 4513).

- Fix a crash when deleting outlined insets while the outline panel
  is open (bug 4547).

- Fix a crash following the input of an invalid paragraph separation
  value in the document settings dialog (bug 4556).

- Fix a crash when inserting a math formula into a character style
  inset. In order to fix this, the status bar information that was
  displayed when hovering over a char style had to be disabled for
  the time being (bug 4559).

- Fix a crash when pressing "page up" while the cursor is in an empty
  paragraph (bug 4570).

- Do not exit after catching an iconv exception (bug 4385, part 2).

- Fix update/drawing of character style insets.

- Keep unapplied content of the document settings dialog after
  clicking in the main window (bug 4302).

- Select the correct list in the outliner when right-clicking on the
  TOC- or a "List-of-"inset (bug 4260).

- Fix access to network drives on Windows.

- "Accept compound words" in Preferences->Spellchecker now also works
  with aspell (library) (bug 4408).

- Overwrite selected text when inserting from the math panel (bug 4055,
  part 2).

- Fix copying of insets to external clipboard and display of insets
  in the navigaton menu (bug 4472).

- Fix pasting of multiple tabular cells on Mac and Windows (bug 4436).

- Fix the function "mark-on" (bug 2913).

- Fix rows alignment in the gather environment (part of bug 1497).

- Add missing pdflatex format to Export->Custom.

- Add a check box to the formula numbering menu entries and disable
  them as needed.

- Avoid multiple warning messages from menu system at start-up.

- Avoid spurious warning messages about translation of "Plain text" at
  start-up.

- Add unicode support for missing space modifier letters.

- Add unicode support for many IPA characters.

- The case-changing functions do not select text anymore.

- Set correct width for labels in document class "letter (KOMA-Script
  v.2)" (bug 4529).

- Fix section counter problem in Portuguese localization (bug 4563).

- Load the amsmath package when \implies is used (bug 4561).


* DOCUMENTATION

- Document in the User's Guide how to dissolve insets (bug 3687).

- Fix the bibliography of the French User's Guide.

- Fix a document preamble font entry that prevented the User's Guide
  from beeing exported to PDF in some cases.

- Fix preamble error in the template file "koma-letter2.lyx".


* BUILD/INSTALLATION:

- Small cleanup to the INSTALL file.

- New script postats.py used to generate translation statistics for the
  main page.

- Dutch dictionary now downloads.

- Fix compilation with gcc 4.3 (soon to be released).

